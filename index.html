<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moon Casino</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    
    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    
    <!-- Our Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-black text-white min-h-screen">
    <!-- Top Navigation -->
    <nav class="navbar">
        <div class="nav-left">
            <button class="menu-btn md:hidden" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo" onclick="loadPage('home')">
                <i class="fas fa-moon text-purple-500"></i>
                <span>Moon<span class="text-purple-500">Casino</span></span>
            </div>
        </div>
        
        <div class="nav-right">
            <div class="balance-display" onclick="openWallet()">
                <i class="fas fa-coins text-yellow-400"></i>
                <span id="balance">500</span>
            </div>
            <button class="wallet-btn" onclick="openWallet()">
                <i class="fas fa-wallet"></i> Wallet
            </button>
            <div class="avatar" id="userAvatar">U</div>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-content">
            <div class="sidebar-header">Games</div>
            <a href="#" onclick="loadPage('home')" class="sidebar-link active">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="#" onclick="loadPage('mines')" class="sidebar-link">
                <i class="fas fa-bomb"></i> Mines
            </a>
            <a href="#" onclick="loadPage('blackjack')" class="sidebar-link">
                <i class="fas fa-diamond"></i> Blackjack
            </a>
            <a href="#" onclick="loadPage('chicken')" class="sidebar-link">
                <i class="fas fa-egg"></i> Chicken Road
            </a>
            <a href="#" onclick="loadPage('coinflip')" class="sidebar-link">
                <i class="fas fa-coins"></i> Coinflip
            </a>
            <a href="#" onclick="loadPage('leaderboard')" class="sidebar-link">
                <i class="fas fa-trophy"></i> Leaderboard
            </a>
        </div>
        
        <div class="sidebar-footer">
            <div id="userInfo">
                <div class="text-gray-400 text-sm">Guest</div>
                <button onclick="logout()" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Content will be loaded here -->
    </main>

    <!-- Chat Sidebar -->
    <div class="chat-sidebar" id="chatSidebar">
        <div class="chat-header">
            <span>Global Chat</span>
            <span class="online-count" id="onlineCount">0 online</span>
        </div>
        <div class="chat-messages" id="chatMessages">
            <!-- Messages will appear here -->
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Type a message..." 
                   onkeypress="if(event.key === 'Enter') sendChat()">
            <button onclick="sendChat()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal" id="authModal" style="display: block;">
        <div class="modal-content">
            <div class="auth-header">
                <i class="fas fa-moon text-purple-500 text-4xl"></i>
                <h2>Moon Casino</h2>
                <p>Login to play</p>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="showAuthTab('login')">Login</button>
                <button class="auth-tab" onclick="showAuthTab('signup')">Sign Up</button>
            </div>
            
            <div class="auth-form" id="loginForm">
                <input type="email" id="loginEmail" placeholder="Email" class="auth-input">
                <input type="password" id="loginPassword" placeholder="Password" class="auth-input">
                <button onclick="login()" class="auth-btn">Login</button>
            </div>
            
            <div class="auth-form" id="signupForm" style="display: none;">
                <input type="text" id="signupUsername" placeholder="Username" class="auth-input">
                <input type="email" id="signupEmail" placeholder="Email" class="auth-input">
                <input type="password" id="signupPassword" placeholder="Password" class="auth-input">
                <button onclick="signup()" class="auth-btn">Sign Up</button>
            </div>
        </div>
    </div>

    <!-- Wallet Modal -->
    <div class="modal" id="walletModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Wallet</h3>
                <button onclick="closeWallet()" class="close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="wallet-balance">
                <div class="balance-label">Your Balance</div>
                <div class="balance-amount" id="walletBalance">500</div>
            </div>
            
            <div class="wallet-actions">
                <div class="action-card">
                    <i class="fas fa-gift text-purple-500"></i>
                    <h4>Free Coins</h4>
                    <p>Claim 500 free coins</p>
                    <button onclick="claimFreeCoins()" class="action-btn">
                        Claim Now
                    </button>
                </div>
                
                <div class="action-card">
                    <i class="fas fa-money-bill-transfer text-green-500"></i>
                    <h4>Send Money</h4>
                    <p>Send coins to friends</p>
                    <button onclick="showSendMoney()" class="action-btn">
                        Send
                    </button>
                </div>
            </div>
            
            <div class="send-money-form" id="sendMoneyForm" style="display: none;">
                <input type="text" id="sendTo" placeholder="Recipient username" class="auth-input">
                <input type="number" id="sendAmount" placeholder="Amount" class="auth-input">
                <button onclick="sendMoney()" class="auth-btn">Send Money</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <!-- JavaScript Files -->
    <script src="firebase-config.js"></script>
    <script src="utils.js"></script>
    <script src="sounds.js"></script>
    <script src="wallet.js"></script>
    <script src="chat.js"></script>
    <script src="games.js"></script>
    <script src="app.js"></script>
</body>
</html>
